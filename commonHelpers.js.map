{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryMarkup = images => {\n  return images\n    .map(\n      image => `\n    <li class=\"image-card\">\n        <a href=\"${image.largeImageURL}\"\n          ><img src=\"${image.webformatURL}\" alt=\"${image.tags}\"/>\n        </a>\n        <ul class=\"img-descr\">\n          <li class=\"descr-el\">Likes <span>${image.likes}</span></li>\n          <li class=\"descr-el\">Views <span>${image.views}</span></li>\n          <li class=\"descr-el\">Views <span>${image.views}</span></li>\n          <li class=\"descr-el\">Comments <span>${image.comments}</span></li>\n          <li class=\"descr-el\"> Downloads <span>${image.downloads}</span></li>\n        </ul>\n      </li>`\n    )\n    .join('');\n};\n","const API_KEY = '43829548-da808e6ec6af8b5210a63f940';\nconst API_URL = 'https://pixabay.com/api/';\n\nexport const fetchData = queryString => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: queryString,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${API_URL}?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        return new Error('Oops, something went wrong ðŸ˜ž');\n      }\n      return response.json();\n    })\n    .catch(error => console.error('error'));\n};\n","import { createGalleryMarkup } from './js/render-functions.js';\nimport { fetchData } from './js/pixabay-api.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryElements = document.querySelector('.gallery-page');\nconst form = document.querySelector('.search-form');\nconst loaderEl = document.querySelector('.loader');\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n  const searchValue = event.currentTarget.elements.userInput.value.trim();\n\n  if (searchValue === '') {\n    galleryElements.innerHTML = '';\n    event.currentTarget.reset();\n    iziToast.warning({\n      message: 'Type your query, please!',\n      position: 'center',\n      timeout: 3000,\n    });\n    return;\n  }\n  galleryElements.innerHTML = '';\n  loaderEl.classList.remove('is-hidden');\n  fetchData(searchValue)\n    .then(imagesData => {\n      const imgArray = imagesData.hits;\n      if (imgArray.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          timeout: 3000,\n          position: 'topRight',\n          backgroundColor: '#ef4040',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n          messageLineHeight: '1.5',\n          iconColor: '#fafafb',\n        });\n      } else {\n        galleryElements.innerHTML = createGalleryMarkup(imgArray);\n        const galleryStyles = new SimpleLightbox('.gallery-page a', {\n          captionsData: 'alt',\n          captionDelay: 250,\n        });\n        galleryStyles.refresh();\n      }\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      event.target.reset();\n      loaderEl.classList.add('is-hidden');\n    });\n}\n\nform.addEventListener('submit', onSubmitForm);\n"],"names":["createGalleryMarkup","images","image","API_KEY","API_URL","fetchData","queryString","searchParams","response","error","galleryElements","form","loaderEl","onSubmitForm","event","searchValue","iziToast","imagesData","imgArray","SimpleLightbox"],"mappings":"6vBAAO,MAAMA,EAAsBC,GAC1BA,EACJ,IACCC,GAAS;AAAA;AAAA,mBAEIA,EAAM,aAAa;AAAA,uBACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,6CAGhBA,EAAM,KAAK;AAAA,6CACXA,EAAM,KAAK;AAAA,6CACXA,EAAM,KAAK;AAAA,gDACRA,EAAM,QAAQ;AAAA,kDACZA,EAAM,SAAS;AAAA;AAAA,YAG5D,EACA,KAAK,EAAE,ECjBNC,EAAU,qCACVC,EAAU,2BAEHC,EAAYC,GAAe,CACtC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAO,IAAIG,CAAY,EAAE,EACtC,KAAKC,GACCA,EAAS,GAGPA,EAAS,OAFP,IAAI,MAAM,+BAA+B,CAGnD,EACA,MAAMC,GAAS,QAAQ,MAAM,OAAO,CAAC,CAC1C,ECXMC,EAAkB,SAAS,cAAc,eAAe,EACxDC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAW,SAAS,cAAc,SAAS,EAEjD,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,UAAU,MAAM,OAEjE,GAAIC,IAAgB,GAAI,CACtBL,EAAgB,UAAY,GAC5BI,EAAM,cAAc,QACpBE,EAAS,QAAQ,CACf,QAAS,2BACT,SAAU,SACV,QAAS,GACf,CAAK,EACD,MACD,CACDN,EAAgB,UAAY,GAC5BE,EAAS,UAAU,OAAO,WAAW,EACrCP,EAAUU,CAAW,EAClB,KAAKE,GAAc,CAClB,MAAMC,EAAWD,EAAW,KACxBC,EAAS,SAAW,EACtBF,EAAS,MAAM,CACb,QACE,2EACF,QAAS,IACT,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,YAAa,OACb,kBAAmB,MACnB,UAAW,SACrB,CAAS,GAEDN,EAAgB,UAAYV,EAAoBkB,CAAQ,EAClC,IAAIC,EAAe,kBAAmB,CAC1D,aAAc,MACd,aAAc,GACxB,CAAS,EACa,QAAO,EAE7B,CAAK,EACA,MAAMV,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbK,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,CAEAD,EAAK,iBAAiB,SAAUE,CAAY"}