{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const createGalleryMarkup = images => {\n  return images\n    .map(\n      image => `\n    <li class=\"image-card\">\n        <a href=\"${image.largeImageURL}\"\n          ><img src=\"${image.webformatURL}\" alt=\"${image.tags}\"/>\n        </a>\n        <ul class=\"img-descr\">\n          <li class=\"descr-el\">Likes ${image.likes}</li>\n          <li class=\"descr-el\">Views ${image.views}</li>\n          <li class=\"descr-el\">Comments ${image.comments}</li>\n          <li class=\"descr-el\"> Downloads ${image.downloads}</li>\n        </ul>\n      </li>`\n    )\n    .join('');\n};\n\nconst galleryStyles = new SimpleLightbox('.gallery-page a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n// galleryStyles.refresh();\n","const API_KEY = '43829548-da808e6ec6af8b5210a63f940';\nconst API_URL = 'https://pixabay.com/api/';\n\nexport const fetchData = queryString => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: queryString,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${API_URL}?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        return new Error('Oops, something went wrong ðŸ˜ž');\n      }\n      return response.json();\n    })\n    .catch(error => console.error('error'));\n};\n","import { createGalleryMarkup } from './js/render-functions.js';\nimport { fetchData } from './js/pixabay-api.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst galleryElements = document.querySelector('.gallery-page');\nconst form = document.querySelector('.search-form');\n\nfunction onSearchForm(event) {\n  event.preventDefault();\n  const searchValue = event.currentTarget.elements.userInput.value.trim();\n  console.log('searchValue: ', searchValue);\n\n  if (searchValue === '') {\n    galleryElements.innerHTML = '';\n    event.currentTarget.reset();\n    iziToast.warning({\n      message: 'Type your query, please!',\n      position: 'center',\n      timeout: 2000,\n    });\n    return;\n  }\n  galleryElements.innerHTML = '';\n\n  fetchData(searchValue)\n    .then(imagesData => {\n      const imgArray = imagesData.hits;\n      if (imgArray.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          timeout: 1000,\n          position: 'center',\n        });\n      } else {\n        galleryElements.innerHTML = createGalleryMarkup(imgArray);\n      }\n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      event.currentTarget.reset();\n    });\n}\n\nform.addEventListener('submit', onSearchForm);\n"],"names":["createGalleryMarkup","images","image","SimpleLightbox","API_KEY","API_URL","fetchData","queryString","searchParams","response","error","galleryElements","form","onSearchForm","event","searchValue","iziToast","imagesData","imgArray"],"mappings":"wvBAGO,MAAMA,EAAsBC,GAC1BA,EACJ,IACCC,GAAS;AAAA;AAAA,mBAEIA,EAAM,aAAa;AAAA,uBACfA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,uCAGtBA,EAAM,KAAK;AAAA,uCACXA,EAAM,KAAK;AAAA,0CACRA,EAAM,QAAQ;AAAA,4CACZA,EAAM,SAAS;AAAA;AAAA,YAGtD,EACA,KAAK,EAAE,EAGU,IAAIC,EAAe,kBAAmB,CAC1D,aAAc,MACd,aAAc,GAChB,CAAC,ECzBD,MAAMC,EAAU,qCACVC,EAAU,2BAEHC,EAAYC,GAAe,CACtC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAO,IAAIG,CAAY,EAAE,EACtC,KAAKC,GACCA,EAAS,GAGPA,EAAS,OAFP,IAAI,MAAM,+BAA+B,CAGnD,EACA,MAAMC,GAAS,QAAQ,MAAM,OAAO,CAAC,CAC1C,ECdMC,EAAkB,SAAS,cAAc,eAAe,EACxDC,EAAO,SAAS,cAAc,cAAc,EAElD,SAASC,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,UAAU,MAAM,OAGjE,GAFA,QAAQ,IAAI,gBAAiBC,CAAW,EAEpCA,IAAgB,GAAI,CACtBJ,EAAgB,UAAY,GAC5BG,EAAM,cAAc,QACpBE,EAAS,QAAQ,CACf,QAAS,2BACT,SAAU,SACV,QAAS,GACf,CAAK,EACD,MACD,CACDL,EAAgB,UAAY,GAE5BL,EAAUS,CAAW,EAClB,KAAKE,GAAc,CAClB,MAAMC,EAAWD,EAAW,KACxBC,EAAS,SAAW,EACtBF,EAAS,MAAM,CACb,QACE,2EACF,QAAS,IACT,SAAU,QACpB,CAAS,EAEDL,EAAgB,UAAYX,EAAoBkB,CAAQ,CAEhE,CAAK,EACA,MAAMR,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbI,EAAM,cAAc,OAC1B,CAAK,CACL,CAEAF,EAAK,iBAAiB,SAAUC,CAAY"}